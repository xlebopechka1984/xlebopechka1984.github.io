<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Мои путешествия</title>
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

<style>
#map {
    height: 500px;
    width: 90%;
    margin: 40px auto;
    border-radius: 20px;
}
</style>

</head>
<body>

<header>
    <h1>Мои путешествия</h1>
    <p>Фотографии и истории из моих поездок</p>
</header>

<section class="gallery">

    <div class="card">
        <img src="images/paris.jpg" alt="">
        <h2>Калуга</h2>
        <p>Russia</p>
    </div>

    <div class="card">
        <img src="images/rome.jpg" alt="">
        <h2>Волгоград</h2>
        <p>Russia</p>
    </div>

    <div class="card">
        <img src="images/spain.jpg" alt="">
        <h2>Москва</h2>
        <p>Russia</p>
    </div>

</section>

<footer>
    © 2026 DIPLOMAT SUN
</footer>

<h2 style="text-align:center; margin-top:60px;">
Маршрут путешествия по России
</h2>

<div id="map"></div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script>
document.addEventListener("DOMContentLoaded", function () {

    var map = L.map('map').setView([54.5, 40], 5);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '© OpenStreetMap'
    }).addTo(map);

    var cities = {
        "Луганск": {
            coords: [48.573, 39.355],
            photos: ["images/lugansk1.jpg", "images/lugansk2.jpg"]
        },
        "Калуга": {
            coords: [54.513, 36.261],
            photos: ["images/kaluga1.jpg"]
        },
        "Москва": {
            coords: [55.7558, 37.6173],
            photos: ["images/moscow1.jpg"]
        },
        "Волгоград": {
            coords: [48.708, 44.513],
            photos: ["images/volgograd1.jpg"]
        }
    };

    var routePoints = [];

    for (var city in cities) {

        routePoints.push(cities[city].coords);

        L.marker(cities[city].coords)
            .addTo(map)
            .bindPopup("<b>" + city + "</b><br><button onclick=\"openGallery('" + city + "')\">Смотреть фото</button>");
    }

    L.polyline(routePoints, {
        color: '#0a3d62',
        weight: 4
    }).addTo(map);

    map.fitBounds(routePoints);

    window.openGallery = function(cityName) {
        var photos = cities[cityName].photos;
        var galleryHTML = "<h2 style='text-align:center'>" + cityName + "</h2>";

        photos.forEach(function(photo) {
            galleryHTML += "<img src='" + photo + "' style='width:90%; margin:10px auto; display:block; border-radius:15px;'>";
        });

        document.body.innerHTML = galleryHTML + 
        "<div style='text-align:center; margin:30px;'><button onclick='location.reload()'>Назад к карте</button></div>";
    }

});
</script>



</body>
</html>
